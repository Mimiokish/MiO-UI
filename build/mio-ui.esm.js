import{openBlock as e,createElementBlock as t,withDirectives as i,createElementVNode as n,toDisplayString as o,vShow as a,renderSlot as s,pushScopeId as c,popScopeId as l,computed as d,resolveComponent as r,Fragment as m,renderList as h,createBlock as u,createCommentVNode as v}from"vue";var p={GenerateUUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},GetViewportSize:function(){return{width:window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,height:window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight}},GetNodePosition:function(e){if(e){var t=e.getBoundingClientRect(),i=t.top,n=t.bottom,o=t.left,a=t.right,s=document.documentElement.clientWidth;return{top:i-0,bottom:document.documentElement.clientHeight-n,left:o-0,right:s-a}}}},k={GenerateUUID:p.GenerateUUID,GetViewportSize:p.GetViewportSize,GetNodePosition:p.GetNodePosition},f={name:"mio-select-option",props:{label:{type:String,default:""}},inject:["updateMethods"],methods:{handleClick(e){const t=e.target;t&&this.updateMethods.value(t.getAttribute("key"),t.getAttribute("value"),t.innerText)}}};f.render=function(c,l,d,r,m,h){return e(),t("div",{class:"mio-select-option",onClick:l[0]||(l[0]=(...e)=>h.handleClick&&h.handleClick(...e))},[i(n("div",{class:"mio-select-option-label"},o(d.label),513),[[a,d.label]]),s(c.$slots,"default")])},f.__scopeId="data-v-6d53e328",f.__file="src/mio-select/src/SelectOption.vue";var g={name:"mio-select",components:{SelectOption:f},props:{modelValue:{type:[String,Number,null],default:null},placeholder:{type:String,default:"select an option"}},provide(){return{updateMethods:{value:this.updateValue}}},data(){return{UUID:k.GenerateUUID(),label:null,value:null,type:"",eventDocumentClick:this.handleDocumentClick}},watch:{modelValue:{immediate:!0,handler(e){const t=e;this.type=Object.prototype.toString.call(t);const i=document.getElementById("MiO-Select-Options-"+this.UUID);if(i&&i.children){const e=i.children.length;for(let n=0;n<e;n++){const e=i.children[n],o=e.getAttribute("value");let a;switch(this.type){case"[object Number]":a=Number(o);break;case"[object String]":a=String(o);break;default:a=o}if(a===t){this.key=e.getAttribute("key"),this.value=t,this.label=e.innerText;break}}}}},value:{handler(e){this.$emit("update:modelValue",e)}}},methods:{updateValue(e,t,i){this.label=i,this.value=t},handleClick(e){const t=document.getElementById("MiO-Select-"+this.UUID),i=document.getElementById("MiO-Select-Options-"+this.UUID);t.classList.toggle("active"),i.classList.toggle("active"),this.handlePopupDirection(i)},handlePopupDirection(e){const t=e;if(t){const e=k.GetViewportSize(),i=k.GetNodePosition(t),n=.2*e.height;i.top>n?(t.classList.remove("bottom"),t.classList.add("top")):(t.classList.remove("top"),t.classList.add("bottom"))}},handleDocumentClick(e){if(!e.target.id.includes(this.UUID)){const e=document.getElementById("MiO-Select-"+this.UUID),t=document.getElementById("MiO-Select-Options-"+this.UUID);e.classList.remove("active"),t.classList.remove("active")}}},mounted(){document.addEventListener("click",this.eventDocumentClick)},beforeUnmount(){document.removeEventListener("click",this.eventDocumentClick)}};const M=["id"],I=(e=>(c("data-v-252230d2"),e=e(),l(),e))((()=>n("div",{class:"mio-select-icon"},"тее",-1))),x=["id"];g.render=function(c,l,d,r,m,h){return e(),t("div",{id:"MiO-Select-"+m.UUID,class:"mio-select",onClick:l[0]||(l[0]=(...e)=>h.handleClick&&h.handleClick(...e))},[i(n("div",{class:"mio-select-placeholder"},o(d.placeholder),513),[[a,!m.value]]),i(n("div",{class:"mio-select-label"},o(m.label),513),[[a,m.value]]),I,n("div",{id:"MiO-Select-Options-"+m.UUID,class:"mio-select-options"},[s(c.$slots,"default")],8,x)],8,M)},g.__scopeId="data-v-252230d2",g.__file="src/mio-select/src/Select.vue",g.install=function(e){e.component(g.name,g),e.component(f.name,f)};var L={name:"mio-list",components:{},props:{mode:{type:String,default:"accordion"}},provide(){return{activeMarker:d((()=>this.activeMarker)),updateMethods:{active:this.updateActiveMarker,activate:this.activate,deactivate:this.deactivate}}},data:()=>({UUID:k.GenerateUUID(),_mode:"accordion",activeMarker:""}),watch:{mode:{handler(e){switch(e){case"accordion":case"Accordion":this._mode="accordion";break;default:this._mode="default"}}}},methods:{activate(e){const t=e.split("-");switch(this.activeMarker.split("-"),this._mode){case"accordion":case"Accordion":this.activateAccordion(t.join("-"));break;default:this.activateDefault(t.join("-"))}},deactivate(e){if(e.split("-"),this.activeMarker.split("-"),"accordion"===this._mode)this.deactivateAccordion();else this.deactivateDefault()},activateDefault(e){},activateAccordion(e){const t=e.split("-"),i=t.length;if(i>0)for(let e=0;e<i;e++){const i=t.slice(0,e+1).join("-"),n=document.getElementById("MiO-List-Item-"+i);n&&n.classList.add("active");const o=document.getElementById("MiO-List-Item-Content-"+i);o&&o.classList.add("active");const a=document.getElementById("MiO-List-Item-Children-"+i);a&&a.classList.add("expend")}},deactivateDefault(){},deactivateAccordion(){const e=this.activeMarker.split("-"),t=e.length;if(t>0)for(let i=t;i>0;i--){const t=e.slice(0,i).join("-"),n=document.getElementById("MiO-List-Item-"+t);n&&n.classList.remove("active");const o=document.getElementById("MiO-List-Item-Content-"+t);o&&o.classList.remove("active");const a=document.getElementById("MiO-List-Item-Children-"+t);a&&a.classList.remove("expend")}},updateActiveMarker(e){const t=e;t&&(this.activeMarker=t)}}};const b=["id"];L.render=function(i,n,o,a,c,l){return e(),t("div",{id:"MiO-List-"+c.UUID,class:"mio-list"},[s(i.$slots,"default")],8,b)},L.__scopeId="data-v-3d6e47d7",L.__file="src/mio-list/src/List.vue";var y={name:"mio-list-item",props:{marker:{type:String,default:""},item:{type:Object,default:()=>{}}},inject:["activeMarker","updateMethods"],data(){return{_marker:this.marker}},methods:{handleSelect(e){const t=e.split("-"),i=this.activeMarker.split("-"),n=t.length,o=i.length;if(0===o)this.updateMethods.active(t.join("-"));else if(t.join("-")===i.join("-")){const e=document.getElementById("MiO-List-Item-Children-"+t.join("-"));e&&e.classList.toggle("expend")}else n===o-1?(this.updateMethods.deactivate(i.join("-")),this.updateMethods.activate(t.join("-")),this.testLastSelectedNodeHasChildrenOpened(t.join("-"))):(this.updateMethods.deactivate(i.join("-")),this.updateMethods.activate(t.join("-"))),this.updateMethods.active(t.join("-"))},testLastSelectedNodeHasChildrenOpened(e){const t=e.split("-"),i=this.activeMarker.split("-");let n=!0;const o=t.length;for(let e=0;e<o;e++)if(t[e]!==i[e])return void(n=!1);if(n){const e=document.getElementById("MiO-List-Item-Children-"+t.join("-"));e&&e.classList.remove("expend")}},findDifferentIndex(e,t){const i=e.split("-"),n=t.split("-"),o=i.length,a=n.length;let s=-1;const c=Math.min(o,a);for(let e=0;e<c;e++)if(i[e]!==n[e])return s=e,s;return o!==a?(s=c,s):s},initialMarker(){if(!this.marker){const e=this.$el.parentElement;this._marker=([...e.children].indexOf(this.$el)+1).toString()}}},mounted(){this.initialMarker()}};const U=["id"],O=["id"],S=["id"];y.render=function(i,n,a,c,l,d){const p=r("mio-list-item");return e(),t("div",{class:"mio-list-item",id:"MiO-List-Item-"+(a.marker?a.marker:l._marker)},[a.item.label?(e(),t("div",{key:0,class:"mio-list-item-content",id:"MiO-List-Item-Content-"+(a.marker?a.marker:l._marker),onClick:n[0]||(n[0]=e=>d.handleSelect(a.marker?a.marker:l._marker))},o(a.item.label),9,O)):s(i.$slots,"default",{key:1}),a.item.children?(e(),t(m,{key:2},[a.item.children.length>0?(e(),t("div",{key:0,class:"mio-list-item-children",id:"MiO-List-Item-Children-"+(a.marker?a.marker:l._marker)},[(e(!0),t(m,null,h(a.item.children,((t,i)=>(e(),u(p,{marker:a.marker?a.marker+"-"+(i+1).toString():l._marker+"-"+(i+1).toString(),item:t},null,8,["marker","item"])))),256))],8,S)):v("v-if",!0)],64)):v("v-if",!0)],8,U)},y.__scopeId="data-v-3af5ae0a",y.__file="src/mio-list/src/ListItem.vue",L.install=function(e){e.component(L.name,L),e.component(y.name,y)};var D={MiOSelect:g,MiOList:L};export{D as default};
//# sourceMappingURL=mio-ui.esm.js.map
